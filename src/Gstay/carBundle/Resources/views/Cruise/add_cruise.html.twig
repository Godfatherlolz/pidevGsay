{% extends 'base.html.twig' %}
{% block title %} add promo {% endblock %}
{% block body %}

<script src="http://maps.google.com/maps/api/js?key=AIzaSyAqRNyA61hA-k4dUU-aRdREGIBnUKRirCo&libraries=places&language=en"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>


<!-- Wrap -->
<div id="wrap">


 <!--Banner-->
 <section class="sub-banner">
  <!--Background-->
  <div class="bg-parallax bg-1"></div>
  <!--End Background-->
  <!-- Logo -->
  <div class="logo-banner text-center">
   <a href="" title="">

    <img src="{{ asset('bundles/app/images/logo-banner.png') }}" alt="">
   </a>
  </div>
  <!-- Logo -->
 </section>
 <!--End Banner-->

 <!-- Main -->
 <div class="main">
  <div class="container">
   <div class="main-cn element-page bg-white clearfix">
    <!--Breakcrumb-->
    <section class="breakcrumb-sc">
     <ul class="breadcrumb arrow">
      <li><a href="{{ path('listeventprofile') }}"><i class="fa fa-home"></i></a></li>
      <li>Add Event</li>
     </ul>
    </section>
    <!--End Breakcrumb-->

    <section class="user-profile">
     <div class="row">
      <div class="col-md-2">
       <div class="user-profile__header">

        <p>

         <img src="{{ asset('bundles/app/images/user/img-1.jpg') }}" alt="">
        </p>
       </div>

       <ul class="user-profile__navigation">
        <li><a href=""><img src="{{ asset('bundles/app/images/icon/icon-cart.png') }}" alt="">Bookings</a></li>
        <li class="current"><a href="{{ path('facilities_settings') }}"><img src="{{ asset('bundles/app/images/icon/icon-user.png') }}" alt="">Facilities</a></li>
        <li><a href="{{ path('promo_hotel') }}"><img src="{{ asset('bundles/app/images/icon/icon-review.png') }}" alt="">Manage Offers</a></li>
        <li><a href="{{ path('hotel_ProfileSettings') }}"><img src="{{ asset('bundles/app/images/icon/icon-setting.png') }}" alt="">Settings</a></li>
        <li><a href="{{ path('hotel_ProfileSettings') }}"><img src="{{ asset('bundles/app/images/icon/icon-heart.png') }}" alt="">Rooms & Price Tables </a></li>
        <li><a href="{{ path('fos_user_security_logout') }}"><img src="{{ asset('bundles/app/images/icon/icon-back.png') }}" alt="">Sign out</a></li>
       </ul>

      </div>
      <div class="col-md-10">

       <div class="user-form">
        <div class="row">
         <h3> Information of the Cruise</h3>
        </div>
        <div class="row">
         <h3> Global Information</h3>
         <div class="col-md-12">

          {{ form_start(form)}}
          <div class="field-input">
           <label> Ship </label>

           {{ form_widget(form.id_navire, {'attr': {'class': 'form-control', }}) }}
          </div>
          <div class="field-input">
           <label>Cruise Name</label>
           {{ form_widget(form.nom, {'attr': {'class': 'form-control','placeholder':'Cruise Name ' }}) }}

          </div>

          <div class="field-input">
           <label>Cruise Number</label>
           {{ form_widget(form.num_croissiere, {'attr': {'class': 'form-control','placeholder':'Cruise Number ' }}) }}

          </div>
          <div class="field-input">
           <label>Cabines Concerned</label>
           {{ form_widget(form.nb_cabine, {'attr': {'class': 'form-control','placeholder':'Cabines Concerned ' }}) }}

          </div>
          <div class="field-input">
           <label>Destinantion</label>
           {{ form_widget(form.destination, {'id':'autocompletee',  'attr'  : {'class': 'form-control','placeholder':'Destinantion ', 'type': 'text' }}) }}

          </div>
          <div class="field-input">
           <label>Port of departure</label>
           {{ form_widget(form.port_dep, {'id':'autocompletee',  'attr' :{'class': 'form-control','placeholder':'Port of departure ', 'type': 'text' }}) }}

          </div>

          <div class="field-input">
           <label>Port of arrival</label>
           {{ form_widget(form.port_arr, {'id':'autocompletee',  'attr': {'class': 'form-control','placeholder':'Port of arrival ', 'type': 'text' }}) }}

          </div>
          <div class="field-input">
           <label>Date of departure</label>
           {{ form_widget(form.date_dep, {'attr': {'class': 'form-control','placeholder':'Date of departure ' }}) }}

          </div>
         </div>

          <div class="field-input">
           <label>Date of arrival</label>
           {{ form_widget(form.date_arr, {'attr': {'class': 'form-control','placeholder':'Date of arrival ' }}) }}

          </div>


          <div class="field-input">
           <label> Services included</label>
           {{ form_widget(form.service_inclu, {'attr': {'class': 'ckeditor' }}) }}

          </div>

          <div class="field-input">
           <label> Services not included</label>
           {{ form_widget(form.service_plus, {'attr': {'class': 'ckeditor' }}) }}

          </div>
          <div class="field-input">
           <label> Family offer</label>
           {{ form_widget(form.offre_special, {'attr': {'class': 'ckeditor' }}) }}

          </div>

         <div class="field-input">
          <label>Cruise Brochure (PDF)</label>
          {{ form_widget(form.imageFile) }}

         </div>

          <div class="field-input">
           <a href="{{ path('add_cabine',{'form.id':id}) }}"><button class="awe-btn awe-btn-1 awe-btn-medium">Add Cabines</button></a>
          </div>


         {{ form_end(form) }}


        </div>
       </div>
      </div>
     </div>
    </section>
   </div>
  </div>
 </div>
 <!-- End Main -->








 <script>
  $(function () {
   var lat = 44.88623409320778,
           lng = -87.86480712897173,
           latlng = new google.maps.LatLng(lat, lng),
           image = 'http://www.google.com/intl/en_us/mapfiles/ms/micons/blue-dot.png';
   //zoomControl: true,
   //zoomControlOptions: google.maps.ZoomControlStyle.LARGE,
   var mapOptions = {
            center: new google.maps.LatLng(lat, lng),
            zoom: 13,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            panControl: true,
            panControlOptions: {
             position: google.maps.ControlPosition.TOP_RIGHT
            },
            zoomControl: true,
            zoomControlOptions: {
             style: google.maps.ZoomControlStyle.LARGE,
             position: google.maps.ControlPosition.TOP_left
            }
           },
           map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions),
           marker = new google.maps.Marker({
            position: latlng,
            map: map,
            icon: image
           });
   var input = document.getElementById('autocompletee');
   var autocomplete = new google.maps.places.Autocomplete(input, {
    types: ["geocode"]
   });
   autocomplete.bindTo('bounds', map);
   var infowindow = new google.maps.InfoWindow();
   google.maps.event.addListener(autocomplete, 'place_changed', function (event) {
    infowindow.close();
    var place = autocomplete.getPlace();
    if (place.geometry.viewport) {
     map.fitBounds(place.geometry.viewport);
    } else {
     map.setCenter(place.geometry.location);
     map.setZoom(17);
    }
    moveMarker(place.name, place.geometry.location);
    $('.MapLat').val(place.geometry.location.lat());
    $('.MapLon').val(place.geometry.location.lng());
   });
   google.maps.event.addListener(map, 'click', function (event) {
    $('.MapLat').val(event.latLng.lat());
    $('.MapLon').val(event.latLng.lng());
    infowindow.close();
    var geocoder = new google.maps.Geocoder();
    geocoder.geocode({
     "latLng":event.latLng
    }, function (results, status) {
     console.log(results, status);
     if (status == google.maps.GeocoderStatus.OK) {
      console.log(results);
      var lat = results[0].geometry.location.lat(),
              lng = results[0].geometry.location.lng(),
              placeName = results[0].address_components[0].long_name,
              latlng = new google.maps.LatLng(lat, lng);
      moveMarker(placeName, latlng);
      $("#autocompletee").val(results[0].formatted_address);
     }
    });
   });

   function moveMarker(placeName, latlng) {
    marker.setIcon(image);
    marker.setPosition(latlng);
    infowindow.setContent(placeName);
    //infowindow.open(map, marker);
   }
  });
 </script>

 <script>
  $(document).ready(function() {
   $('.js-datepicker').datepicker({
    format: 'yyyy-mm-dd'
   });
  });
 </script>
 {% endblock %}



















